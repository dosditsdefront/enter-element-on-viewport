{"version":3,"file":"enter-element-on-viewport.umd.js","sources":["../src/EnterOnViewport.ts"],"sourcesContent":["export default class EnterOnViewport {\n    selector:NodeListOf<HTMLElement>\n    event:string\n    rootMargin:string\n    constructor(selector:string, event = 'elementOnViewport', rootMargin = '50px') {\n        this.selector = document.querySelectorAll(selector)\n        this.event = event\n        this.rootMargin = rootMargin\n        this.observe()\n    }\n\n    observe() :void{\t\t\t\n        const observeroptions = {\n            rootMargin: this.rootMargin,\n        }\n\n        const observer = new IntersectionObserver((elements, observer) => {\n            elements.forEach((element) => {\n                if (element.isIntersecting) {\n                    const target = element.target as HTMLElement\n                    this.dispatchEvent(target)\n                    observer.unobserve(target)\n                }\n            })\n        }, observeroptions)\n\n        this.selector.forEach((element) => {\n            observer.observe(element)\n        })\n    }\n\n    dispatchEvent(selector:HTMLElement):void {\n        const evt = new CustomEvent(this.event, {\n            detail: {\n                selector,\n            },\n        })\n        document.body.dispatchEvent(evt)\n    }\n}"],"names":["EnterOnViewport","selector","event","rootMargin","document","querySelectorAll","observe","_proto","prototype","_this","observeroptions","observer","IntersectionObserver","elements","forEach","element","isIntersecting","target","dispatchEvent","unobserve","evt","CustomEvent","detail","body"],"mappings":";;;;;QAAqBA,eAAe,gBAAA,YAAA;IAIhC,EAAA,SAAAA,gBAAYC,QAAe,EAAEC,KAAK,EAAwBC,UAAU,EAAS;IAAA,IAAA,IAAhDD,KAAK,KAAA,KAAA,CAAA,EAAA;IAALA,MAAAA,KAAK,GAAG,mBAAmB,CAAA;IAAA,KAAA;IAAA,IAAA,IAAEC,UAAU,KAAA,KAAA,CAAA,EAAA;IAAVA,MAAAA,UAAU,GAAG,MAAM,CAAA;IAAA,KAAA;IAAA,IAAA,IAAA,CAH7EF,QAAQ,GAAA,KAAA,CAAA,CAAA;IAAA,IAAA,IAAA,CACRC,KAAK,GAAA,KAAA,CAAA,CAAA;IAAA,IAAA,IAAA,CACLC,UAAU,GAAA,KAAA,CAAA,CAAA;QAEN,IAAI,CAACF,QAAQ,GAAGG,QAAQ,CAACC,gBAAgB,CAACJ,QAAQ,CAAC,CAAA;QACnD,IAAI,CAACC,KAAK,GAAGA,KAAK,CAAA;QAClB,IAAI,CAACC,UAAU,GAAGA,UAAU,CAAA;QAC5B,IAAI,CAACG,OAAO,EAAE,CAAA;IAClB,GAAA;IAAC,EAAA,IAAAC,MAAA,GAAAP,eAAA,CAAAQ,SAAA,CAAA;IAAAD,EAAAA,MAAA,CAEDD,OAAO,GAAP,SAAAA,UAAO;IAAA,IAAA,IAAAG,KAAA,GAAA,IAAA,CAAA;IACH,IAAA,IAAMC,eAAe,GAAG;UACpBP,UAAU,EAAE,IAAI,CAACA,UAAAA;SACpB,CAAA;QAED,IAAMQ,QAAQ,GAAG,IAAIC,oBAAoB,CAAC,UAACC,QAAQ,EAAEF,QAAQ,EAAI;IAC7DE,MAAAA,QAAQ,CAACC,OAAO,CAAC,UAACC,OAAO,EAAI;YACzB,IAAIA,OAAO,CAACC,cAAc,EAAE;IACxB,UAAA,IAAMC,MAAM,GAAGF,OAAO,CAACE,MAAqB,CAAA;IAC5CR,UAAAA,KAAI,CAACS,aAAa,CAACD,MAAM,CAAC,CAAA;IAC1BN,UAAAA,QAAQ,CAACQ,SAAS,CAACF,MAAM,CAAC,CAAA;IAC7B,SAAA;IACL,OAAC,CAAC,CAAA;SACL,EAAEP,eAAe,CAAC,CAAA;IAEnB,IAAA,IAAI,CAACT,QAAQ,CAACa,OAAO,CAAC,UAACC,OAAO,EAAI;IAC9BJ,MAAAA,QAAQ,CAACL,OAAO,CAACS,OAAO,CAAC,CAAA;IAC7B,KAAC,CAAC,CAAA;OACL,CAAA;IAAAR,EAAAA,MAAA,CAEDW,aAAa,GAAb,SAAAA,aAAAA,CAAcjB,QAAoB,EAAA;QAC9B,IAAMmB,GAAG,GAAG,IAAIC,WAAW,CAAC,IAAI,CAACnB,KAAK,EAAE;IACpCoB,MAAAA,MAAM,EAAE;IACJrB,QAAAA,QAAQ,EAARA,QAAAA;IACH,OAAA;IACJ,KAAA,CAAC,CAAA;IACFG,IAAAA,QAAQ,CAACmB,IAAI,CAACL,aAAa,CAACE,GAAG,CAAC,CAAA;OACnC,CAAA;IAAA,EAAA,OAAApB,eAAA,CAAA;IAAA,CAAA;;;;;;;;"}