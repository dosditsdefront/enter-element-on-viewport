{"version":3,"file":"enter-element-on-viewport.modern.js","sources":["../src/EnterOnViewport.ts"],"sourcesContent":["export default class EnterOnViewport {\n    selector:NodeListOf<HTMLElement>\n    event:string\n    rootMargin:string\n    constructor(selector:string, event = 'elementOnViewport', rootMargin = '50px') {\n        this.selector = document.querySelectorAll(selector)\n        this.event = event\n        this.rootMargin = rootMargin\n        this.observe()\n    }\n\n    observe() :void{\t\t\t\n        const observeroptions = {\n            rootMargin: this.rootMargin,\n        }\n\n        const observer = new IntersectionObserver((elements, observer) => {\n            elements.forEach((element) => {\n                if (element.isIntersecting) {\n                    const target = element.target as HTMLElement\n                    this.dispatchEvent(target)\n                    observer.unobserve(target)\n                }\n            })\n        }, observeroptions)\n\n        this.selector.forEach((element) => {\n            observer.observe(element)\n        })\n    }\n\n    dispatchEvent(selector:HTMLElement):void {\n        const evt = new CustomEvent(this.event, {\n            detail: {\n                selector,\n            },\n        })\n        document.body.dispatchEvent(evt)\n    }\n}"],"names":["EnterOnViewport","constructor","selector","event","rootMargin","document","querySelectorAll","observe","observeroptions","observer","IntersectionObserver","elements","forEach","element","isIntersecting","target","dispatchEvent","unobserve","evt","CustomEvent","detail","body"],"mappings":"AAAc,MAAOA,eAAe,CAAA;EAIhCC,WAAYA,CAAAC,QAAe,EAAEC,KAAK,GAAG,mBAAmB,EAAEC,UAAU,GAAG,MAAM,EAAA;AAAA,IAAA,IAAA,CAH7EF,QAAQ,GAAA,KAAA,CAAA,CAAA;AAAA,IAAA,IAAA,CACRC,KAAK,GAAA,KAAA,CAAA,CAAA;AAAA,IAAA,IAAA,CACLC,UAAU,GAAA,KAAA,CAAA,CAAA;IAEN,IAAI,CAACF,QAAQ,GAAGG,QAAQ,CAACC,gBAAgB,CAACJ,QAAQ,CAAC,CAAA;IACnD,IAAI,CAACC,KAAK,GAAGA,KAAK,CAAA;IAClB,IAAI,CAACC,UAAU,GAAGA,UAAU,CAAA;IAC5B,IAAI,CAACG,OAAO,EAAE,CAAA;AAClB,GAAA;AAEAA,EAAAA,OAAOA,GAAA;AACH,IAAA,MAAMC,eAAe,GAAG;MACpBJ,UAAU,EAAE,IAAI,CAACA,UAAAA;KACpB,CAAA;IAED,MAAMK,QAAQ,GAAG,IAAIC,oBAAoB,CAAC,CAACC,QAAQ,EAAEF,QAAQ,KAAI;AAC7DE,MAAAA,QAAQ,CAACC,OAAO,CAAEC,OAAO,IAAI;QACzB,IAAIA,OAAO,CAACC,cAAc,EAAE;AACxB,UAAA,MAAMC,MAAM,GAAGF,OAAO,CAACE,MAAqB,CAAA;AAC5C,UAAA,IAAI,CAACC,aAAa,CAACD,MAAM,CAAC,CAAA;AAC1BN,UAAAA,QAAQ,CAACQ,SAAS,CAACF,MAAM,CAAC,CAAA;AAC7B,SAAA;AACL,OAAC,CAAC,CAAA;KACL,EAAEP,eAAe,CAAC,CAAA;AAEnB,IAAA,IAAI,CAACN,QAAQ,CAACU,OAAO,CAAEC,OAAO,IAAI;AAC9BJ,MAAAA,QAAQ,CAACF,OAAO,CAACM,OAAO,CAAC,CAAA;AAC7B,KAAC,CAAC,CAAA;AACN,GAAA;EAEAG,aAAaA,CAACd,QAAoB,EAAA;IAC9B,MAAMgB,GAAG,GAAG,IAAIC,WAAW,CAAC,IAAI,CAAChB,KAAK,EAAE;AACpCiB,MAAAA,MAAM,EAAE;AACJlB,QAAAA,QAAAA;AACH,OAAA;AACJ,KAAA,CAAC,CAAA;AACFG,IAAAA,QAAQ,CAACgB,IAAI,CAACL,aAAa,CAACE,GAAG,CAAC,CAAA;AACpC,GAAA;AACH;;;;"}