{"version":3,"file":"enter-element-on-viewport.cjs","sources":["../src/EnterOnViewport.ts"],"sourcesContent":["export default class EnterOnViewport {\n    selector:NodeListOf<HTMLElement>\n    event:string\n    constructor(selector:string, event = 'elementOnViewport') {\n        this.selector = document.querySelectorAll(selector)\n        this.event = event\n        this.observe()\n    }\n\n    observe() :void{\t\t\t\n        const observeroptions = {\n            rootMargin: '50px',\n        }\n\n        const observer = new IntersectionObserver((elements, observer) => {\n            elements.forEach((element) => {\n                if (element.isIntersecting) {\n                    const target = element.target as HTMLElement\n                    this.dispatchEvent(target)\n                    observer.unobserve(target)\n                }\n            })\n        }, observeroptions)\n\n        this.selector.forEach((element) => {\n            observer.observe(element)\n        })\n    }\n\n    dispatchEvent(selector:HTMLElement):void {\n        const evt = new CustomEvent(this.event, {\n            detail: {\n                selector,\n            },\n        })\n        document.body.dispatchEvent(evt)\n    }\n}"],"names":["EnterOnViewport","selector","event","document","querySelectorAll","observe","observeroptions","rootMargin","observer","IntersectionObserver","elements","forEach","element","isIntersecting","target","dispatchEvent","unobserve","evt","CustomEvent","detail","body"],"mappings":"IAAqBA;AAGjB,2BAAYC,QAAZ,EAA6BC,KAA7B;QAA6BA;AAAAA,MAAAA,QAAQ;;;SAFrCD;SACAC;AAEI,SAAKD,QAAL,GAAgBE,QAAQ,CAACC,gBAAT,CAA0BH,QAA1B,CAAhB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKG,OAAL;AACH;;;;SAEDA,UAAA;;;AACI,QAAMC,eAAe,GAAG;AACpBC,MAAAA,UAAU,EAAE;AADQ,KAAxB;AAIA,QAAMC,QAAQ,GAAG,IAAIC,oBAAJ,CAAyB,UAACC,QAAD,EAAWF,QAAX;AACtCE,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAACC,OAAD;AACb,YAAIA,OAAO,CAACC,cAAZ,EAA4B;AACxB,cAAMC,MAAM,GAAGF,OAAO,CAACE,MAAvB;;AACA,UAAA,KAAI,CAACC,aAAL,CAAmBD,MAAnB;;AACAN,UAAAA,QAAQ,CAACQ,SAAT,CAAmBF,MAAnB;AACH;AACJ,OAND;AAOH,KARgB,EAQdR,eARc,CAAjB;AAUA,SAAKL,QAAL,CAAcU,OAAd,CAAsB,UAACC,OAAD;AAClBJ,MAAAA,QAAQ,CAACH,OAAT,CAAiBO,OAAjB;AACH,KAFD;AAGH;;SAEDG,gBAAA,uBAAcd,QAAd;AACI,QAAMgB,GAAG,GAAG,IAAIC,WAAJ,CAAgB,KAAKhB,KAArB,EAA4B;AACpCiB,MAAAA,MAAM,EAAE;AACJlB,QAAAA,QAAQ,EAARA;AADI;AAD4B,KAA5B,CAAZ;AAKAE,IAAAA,QAAQ,CAACiB,IAAT,CAAcL,aAAd,CAA4BE,GAA5B;AACH;;;;;;;"}