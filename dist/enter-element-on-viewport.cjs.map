{"version":3,"file":"enter-element-on-viewport.cjs","sources":["../src/EnterOnViewport.ts"],"sourcesContent":["export default class EnterOnViewport {\n    selector:NodeListOf<HTMLElement>\n    event:string\n    rootMargin:string\n    constructor(selector:string, event = 'elementOnViewport', rootMargin = '50px') {\n        this.selector = document.querySelectorAll(selector)\n        this.event = event\n        this.rootMargin = rootMargin\n        this.observe()\n    }\n\n    observe() :void{\t\t\t\n        const observeroptions = {\n            rootMargin: this.rootMargin,\n        }\n\n        const observer = new IntersectionObserver((elements, observer) => {\n            elements.forEach((element) => {\n                if (element.isIntersecting) {\n                    const target = element.target as HTMLElement\n                    this.dispatchEvent(target)\n                    observer.unobserve(target)\n                }\n            })\n        }, observeroptions)\n\n        this.selector.forEach((element) => {\n            observer.observe(element)\n        })\n    }\n\n    dispatchEvent(selector:HTMLElement):void {\n        const evt = new CustomEvent(this.event, {\n            detail: {\n                selector,\n            },\n        })\n        document.body.dispatchEvent(evt)\n    }\n}"],"names":["EnterOnViewport","selector","event","rootMargin","document","querySelectorAll","observe","_proto","prototype","_this","observeroptions","observer","IntersectionObserver","elements","forEach","element","isIntersecting","target","dispatchEvent","unobserve","evt","CustomEvent","detail","body"],"mappings":"IAAqBA,eAAe,gBAAA,YAAA;AAIhC,EAAA,SAAAA,gBAAYC,QAAe,EAAEC,KAAK,EAAwBC,UAAU,EAAS;AAAA,IAAA,IAAhDD,KAAK,KAAA,KAAA,CAAA,EAAA;AAALA,MAAAA,KAAK,GAAG,mBAAmB,CAAA;AAAA,KAAA;AAAA,IAAA,IAAEC,UAAU,KAAA,KAAA,CAAA,EAAA;AAAVA,MAAAA,UAAU,GAAG,MAAM,CAAA;AAAA,KAAA;AAAA,IAAA,IAAA,CAH7EF,QAAQ,GAAA,KAAA,CAAA,CAAA;AAAA,IAAA,IAAA,CACRC,KAAK,GAAA,KAAA,CAAA,CAAA;AAAA,IAAA,IAAA,CACLC,UAAU,GAAA,KAAA,CAAA,CAAA;IAEN,IAAI,CAACF,QAAQ,GAAGG,QAAQ,CAACC,gBAAgB,CAACJ,QAAQ,CAAC,CAAA;IACnD,IAAI,CAACC,KAAK,GAAGA,KAAK,CAAA;IAClB,IAAI,CAACC,UAAU,GAAGA,UAAU,CAAA;IAC5B,IAAI,CAACG,OAAO,EAAE,CAAA;AAClB,GAAA;AAAC,EAAA,IAAAC,MAAA,GAAAP,eAAA,CAAAQ,SAAA,CAAA;AAAAD,EAAAA,MAAA,CAEDD,OAAO,GAAP,SAAAA,UAAO;AAAA,IAAA,IAAAG,KAAA,GAAA,IAAA,CAAA;AACH,IAAA,IAAMC,eAAe,GAAG;MACpBP,UAAU,EAAE,IAAI,CAACA,UAAAA;KACpB,CAAA;IAED,IAAMQ,QAAQ,GAAG,IAAIC,oBAAoB,CAAC,UAACC,QAAQ,EAAEF,QAAQ,EAAI;AAC7DE,MAAAA,QAAQ,CAACC,OAAO,CAAC,UAACC,OAAO,EAAI;QACzB,IAAIA,OAAO,CAACC,cAAc,EAAE;AACxB,UAAA,IAAMC,MAAM,GAAGF,OAAO,CAACE,MAAqB,CAAA;AAC5CR,UAAAA,KAAI,CAACS,aAAa,CAACD,MAAM,CAAC,CAAA;AAC1BN,UAAAA,QAAQ,CAACQ,SAAS,CAACF,MAAM,CAAC,CAAA;AAC7B,SAAA;AACL,OAAC,CAAC,CAAA;KACL,EAAEP,eAAe,CAAC,CAAA;AAEnB,IAAA,IAAI,CAACT,QAAQ,CAACa,OAAO,CAAC,UAACC,OAAO,EAAI;AAC9BJ,MAAAA,QAAQ,CAACL,OAAO,CAACS,OAAO,CAAC,CAAA;AAC7B,KAAC,CAAC,CAAA;GACL,CAAA;AAAAR,EAAAA,MAAA,CAEDW,aAAa,GAAb,SAAAA,aAAAA,CAAcjB,QAAoB,EAAA;IAC9B,IAAMmB,GAAG,GAAG,IAAIC,WAAW,CAAC,IAAI,CAACnB,KAAK,EAAE;AACpCoB,MAAAA,MAAM,EAAE;AACJrB,QAAAA,QAAQ,EAARA,QAAAA;AACH,OAAA;AACJ,KAAA,CAAC,CAAA;AACFG,IAAAA,QAAQ,CAACmB,IAAI,CAACL,aAAa,CAACE,GAAG,CAAC,CAAA;GACnC,CAAA;AAAA,EAAA,OAAApB,eAAA,CAAA;AAAA,CAAA;;;;"}